{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "VisualEditor0",
            "Effect": "Allow",
            "Action": [
                "cloudformation:RegisterType",
                "cloudformation:CreateUploadBucket",
                "cloudformation:ListExports",
                "cloudformation:DescribeStackDriftDetectionStatus",
                "cloudformation:SetTypeDefaultVersion",
                "application-autoscaling:*",
                "cloudformation:RegisterPublisher",
                "cloudformation:ActivateType",
                "cloudformation:ListTypes",
                "cloudformation:DeactivateType",
                "cloudformation:SetTypeConfiguration",
                "route53:ListHostedZonesByName",
                "cloudformation:DeregisterType",
                "cloudformation:ListTypeRegistrations",
                "cloudformation:EstimateTemplateCost",
                "cloudformation:DescribeAccountLimits",
                "cloudformation:BatchDescribeTypeConfigurations",
                "cloudformation:CreateStackSet",
                "ec2:DescribeRouteTables",
                "cloudformation:ListStacks",
                "route53:CreateHostedZone",
                "cloudformation:DescribeType",
                "cloudformation:ListImports",
                "cloudformation:PublishType",
                "cloudformation:DescribePublisher",
                "cloudformation:DescribeTypeRegistration",
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeVpcs",
                "ec2:DescribeSubnets",
                "cloudformation:TestType",
                "cloudformation:ValidateTemplate",
                "cloudformation:ListTypeVersions",
                "servicediscovery:*"
            ],
            "Resource": "*"
        },
        {
            "Sid": "VisualEditor1",
            "Effect": "Allow",
            "Action": [
                "ec2:RevokeSecurityGroupIngress",
                "ec2:AuthorizeSecurityGroupIngress",
                "logs:DescribeLogGroups",
                "logs:DeleteLogGroup",
                "ec2:CreateSecurityGroup",
                "ec2:CreateTags",
                "ec2:DeleteSecurityGroup",
                "cloudformation:*",
                "logs:FilterLogEvents",
                "logs:CreateLogGroup"
            ],
            "Resource": [
                "arn:aws:cloudformation:*:${ACCOUNT_NUM}:stackset/*:*",
                "arn:aws:cloudformation:*:${ACCOUNT_NUM}:stack/*/*",
                "arn:aws:logs:*:${ACCOUNT_NUM}:log-group:*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:instance-event-window/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:ipv6pool-ec2/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:key-pair/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:subnet-cidr-reservation/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:launch-template/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:traffic-mirror-session/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:local-gateway/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:security-group/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:instance/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:transit-gateway-route-table/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:traffic-mirror-target/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:natgateway/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:dhcp-options/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:local-gateway-route-table-vpc-association/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:spot-fleet-request/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:replace-root-volume-task/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:capacity-reservation/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:reserved-instances/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:vpc-endpoint/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:network-acl/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:vpc-flow-log/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:network-insights-access-scope/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:vpn-connection/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:export-image-task/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:vpc/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:import-image-task/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:prefix-list/*",
                "arn:aws:ec2::${ACCOUNT_NUM}:ipam-scope/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:client-vpn-endpoint/*",
                "arn:aws:ec2::${ACCOUNT_NUM}:ipam-pool/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:traffic-mirror-filter/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:placement-group/*",
                "arn:aws:ec2:*::snapshot/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:transit-gateway-multicast-domain/*",
                "arn:aws:ec2::${ACCOUNT_NUM}:ipam/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:vpc-peering-connection/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:network-interface/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:capacity-reservation-fleet/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:local-gateway-virtual-interface-group/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:customer-gateway/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:network-insights-access-scope-analysis/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:spot-instances-request/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:dedicated-host/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:vpn-gateway/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:vpc-endpoint-service/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:elastic-gpu/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:transit-gateway/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:security-group-rule/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:fleet/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:local-gateway-route-table-virtual-interface-group-association/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:route-table/*",
                "arn:aws:ec2:*::image/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:subnet/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:transit-gateway-connect-peer/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:ipv4pool-ec2/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:internet-gateway/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:host-reservation/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:transit-gateway-attachment/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:volume/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:egress-only-internet-gateway/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:import-snapshot-task/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:local-gateway-route-table/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:elastic-ip/*",
                "arn:aws:ec2:*::fpga-image/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:local-gateway-virtual-interface/*",
                "arn:aws:ec2:*:${ACCOUNT_NUM}:export-instance-task/*"
            ]
        },
        {
            "Sid": "VisualEditor2",
            "Effect": "Allow",
            "Action": [
                "iam:PassRole",
                "iam:DetachRolePolicy",
                "route53:GetHostedZone",
                "route53:GetHealthCheck",
                "iam:CreateRole",
                "iam:DeleteRole",
                "route53:DeleteHostedZone",
                "iam:AttachRolePolicy"
            ],
            "Resource": [
                "arn:aws:route53:::hostedzone/*",
                "arn:aws:route53:::healthcheck/*",
                "arn:aws:iam::${ACCOUNT_NUM}:role/*"
            ]
        }
    ]
}